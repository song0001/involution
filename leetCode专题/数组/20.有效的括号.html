<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>有效的括号字符串</title>
</head>
<body>
  <script>
    // leetCode: https://leetcode-cn.com/problems/valid-parentheses/
    // 进阶题：有效的括号字符串 https://leetcode-cn.com/problems/valid-parenthesis-string/
    function checkValidString (str) {
      // 空字符串也是有效的
      if (str.length === 0) {
        return true
      }
      const mapObj = {
        ')': '(',
        ']': '[',
        '}': '{'
      }
      const chars = ['(', '[', '{']
      const stack = []
      for (let index = 0; index < str.length; index++) {
        const char = str[index]
        if (chars.includes(char)) {
          stack.push(char)
        } else {
          const popChar = stack.pop()
          if (mapObj[char] !== popChar) {
            return false
          }
        }
      }
      return !stack.length
    }
    console.log(checkValidString('()'))       // true
    console.log(checkValidString('()[]{}'))   // true
    console.log(checkValidString('([{}])'))   // true
    console.log(checkValidString('([})'))     // false
    console.log(checkValidString('()[}'))     // false
  </script>
</body>
</html>