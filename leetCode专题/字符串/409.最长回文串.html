<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>最长回文串</title>
</head>
<body>
  <script>
    // leetCode: https://leetcode-cn.com/problems/longest-palindrome/
    function longestPalindrome (str) {
      const len = str.length
      if (len === 0 || len === 1) return len
      let res = 0
      // 计算每个字符出现的数量
      const map = {}
      for (let i = 0; i < len; i++) {
        const char = str[i]
        if (char in map) {
          map[char] = map[char] + 1
        } else {
          map[char] = 1
        }
      }
      // 根据字符数量计算长度
      for (char in map) {
        res += Math.floor(map[char] / 2) * 2
      }
      if (res < len) {
        res++
      }
      return res
    }
    console.log(longestPalindrome('abccccdd'))
  </script>
</body>
</html>